{"expireTime":9007200844194352000,"key":"gatsby-plugin-mdx-entire-payload-325be60643b83ff8554c04e1731f3834-","val":{"mdast":{"type":"root","children":[{"type":"paragraph","children":[{"type":"text","value":"One of the most discussed topics of JS is the types system in context with the equality operator and explicit and implicit type coercion.","position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":138,"offset":138},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":138,"offset":138},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Soo Yes! JavaScript has a lot of weird corner cases when it comes to type equality and coercion.","position":{"start":{"line":4,"column":1,"offset":140},"end":{"line":4,"column":97,"offset":236},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":140},"end":{"line":4,"column":97,"offset":236},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Some examples","position":{"start":{"line":6,"column":1,"offset":238},"end":{"line":6,"column":14,"offset":251},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":238},"end":{"line":6,"column":14,"offset":251},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"    *NaN === NaN // false\n    null == 0 // false\n    -0 === 0 // true\n    [â€˜aâ€™] == â€˜aâ€™ // true*","position":{"start":{"line":8,"column":1,"offset":253},"end":{"line":13,"column":4,"offset":358},"indent":[1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"There is a huge open source list of examples which you can find ","position":{"start":{"line":15,"column":1,"offset":360},"end":{"line":15,"column":65,"offset":424},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/denysdovhan/wtfjs","children":[{"type":"text","value":"here","position":{"start":{"line":15,"column":66,"offset":425},"end":{"line":15,"column":70,"offset":429},"indent":[]}}],"position":{"start":{"line":15,"column":65,"offset":424},"end":{"line":15,"column":109,"offset":468},"indent":[]}},{"type":"text","value":". In reality, most programming languages have some corner cases and many of them even make sense.","position":{"start":{"line":15,"column":109,"offset":468},"end":{"line":15,"column":206,"offset":565},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":360},"end":{"line":15,"column":206,"offset":565},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"What I found interesting about type coercion are not all these corner cases instead I like some practical concepts and learnings which you can take from those corner case examples and introduce the learnings into your codebase.","position":{"start":{"line":17,"column":1,"offset":567},"end":{"line":17,"column":228,"offset":794},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":567},"end":{"line":17,"column":228,"offset":794},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"It is really helpful to learn how type coercion in JS works to better reason about your code","position":{"start":{"line":19,"column":3,"offset":798},"end":{"line":19,"column":95,"offset":890},"indent":[]}}],"position":{"start":{"line":19,"column":3,"offset":798},"end":{"line":19,"column":95,"offset":890},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":796},"end":{"line":19,"column":95,"offset":890},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"There are some practical things you can improve in your programs if you know how coercion works","position":{"start":{"line":20,"column":3,"offset":893},"end":{"line":20,"column":98,"offset":988},"indent":[]}}],"position":{"start":{"line":20,"column":3,"offset":893},"end":{"line":20,"column":98,"offset":988},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":891},"end":{"line":20,"column":98,"offset":988},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"You donâ€™t need to know all of the corner cases look up the ","position":{"start":{"line":21,"column":3,"offset":991},"end":{"line":21,"column":62,"offset":1050},"indent":[]}},{"type":"link","title":null,"url":"https://tc39.github.io/ecma262/","children":[{"type":"text","value":"JS spec","position":{"start":{"line":21,"column":63,"offset":1051},"end":{"line":21,"column":70,"offset":1058},"indent":[]}}],"position":{"start":{"line":21,"column":62,"offset":1050},"end":{"line":21,"column":104,"offset":1092},"indent":[]}},{"type":"text","value":" if you don't understand a particular check","position":{"start":{"line":21,"column":104,"offset":1092},"end":{"line":21,"column":147,"offset":1135},"indent":[]}}],"position":{"start":{"line":21,"column":3,"offset":991},"end":{"line":21,"column":147,"offset":1135},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":989},"end":{"line":21,"column":147,"offset":1135},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":796},"end":{"line":21,"column":147,"offset":1135},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"The first thing you should make sure is to lower the surface area of your functions to keep them as small as possible e.g. avoid overloading your functions.","position":{"start":{"line":23,"column":3,"offset":1139},"end":{"line":23,"column":159,"offset":1295},"indent":[]}}],"position":{"start":{"line":23,"column":1,"offset":1137},"end":{"line":23,"column":161,"offset":1297},"indent":[]}}],"position":{"start":{"line":23,"column":1,"offset":1137},"end":{"line":23,"column":161,"offset":1297},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"That means if it doesn't make sense to accept a string and a number as a function parameter donâ€™t try to implement both definitions instead make it visible to the reader of your code that the function only works with numbers.","position":{"start":{"line":25,"column":1,"offset":1299},"end":{"line":25,"column":226,"offset":1524},"indent":[]}}],"position":{"start":{"line":25,"column":1,"offset":1299},"end":{"line":25,"column":226,"offset":1524},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Keep in mind with more information you usually end up with a better result. This is how diversity works if you have more different opinions and perspectives you create better outcomes. So the more you know about coercion the more you can clean up your code. The first example are undefined and null checks.","position":{"start":{"line":27,"column":1,"offset":1526},"end":{"line":27,"column":307,"offset":1832},"indent":[]}}],"position":{"start":{"line":27,"column":1,"offset":1526},"end":{"line":27,"column":307,"offset":1832},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"// 1.\n// You can avoid checking for undefined and null by using the == operator instead\n// of === so here you can actually make use of the implicit equality operator conversion\nif (a !== undefined && a !== null) {\n}\n\n// checks for both undefined and null\nif (a != null) {\n}\n\n// 2. If you want to check whether an array is an array use the built in method\nArray.isArray(MyArray);\n\n// 3.\n// Use Number.isNaN(value) to check for NaN\nNumber.isNan(value);\n\n// 4.\n// Do not check boolean with == for boolean or when the type is unknown\n// Use truthy correctly\n// This is ok if you check existency not boolean\n\nif ({}) {\n  // run the code\n}\n\n// bad since e.g.\nif (object == true) {\n  // doesnt work\n}\n\n// If you have initialised an empty array or an empty object and you want check for existence\n// this will not work since == and === operator implicit coerce\n[] == true; // false\nObject === true; // false","position":{"start":{"line":29,"column":1,"offset":1834},"end":{"line":65,"column":4,"offset":2743},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"You can just check if the ","position":{"start":{"line":67,"column":1,"offset":2745},"end":{"line":67,"column":27,"offset":2771},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"variable","position":{"start":{"line":67,"column":28,"offset":2772},"end":{"line":67,"column":36,"offset":2780},"indent":[]}}],"position":{"start":{"line":67,"column":27,"offset":2771},"end":{"line":67,"column":37,"offset":2781},"indent":[]}},{"type":"text","value":" has a truthy value or not. That means do this","position":{"start":{"line":67,"column":37,"offset":2781},"end":{"line":67,"column":83,"offset":2827},"indent":[]}}],"position":{"start":{"line":67,"column":1,"offset":2745},"end":{"line":67,"column":83,"offset":2827},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"if (value) {\n}","position":{"start":{"line":69,"column":1,"offset":2829},"end":{"line":72,"column":4,"offset":2853},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"will evaluate to true if ","position":{"start":{"line":74,"column":1,"offset":2855},"end":{"line":74,"column":26,"offset":2880},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"value","position":{"start":{"line":74,"column":27,"offset":2881},"end":{"line":74,"column":32,"offset":2886},"indent":[]}}],"position":{"start":{"line":74,"column":26,"offset":2880},"end":{"line":74,"column":33,"offset":2887},"indent":[]}},{"type":"text","value":" is ","position":{"start":{"line":74,"column":33,"offset":2887},"end":{"line":74,"column":37,"offset":2891},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"not","position":{"start":{"line":74,"column":39,"offset":2893},"end":{"line":74,"column":42,"offset":2896},"indent":[]}}],"position":{"start":{"line":74,"column":37,"offset":2891},"end":{"line":74,"column":44,"offset":2898},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":74,"column":44,"offset":2898},"end":{"line":74,"column":45,"offset":2899},"indent":[]}}],"position":{"start":{"line":74,"column":1,"offset":2855},"end":{"line":74,"column":45,"offset":2899},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"null","position":{"start":{"line":76,"column":3,"offset":2903},"end":{"line":76,"column":7,"offset":2907},"indent":[]}}],"position":{"start":{"line":76,"column":3,"offset":2903},"end":{"line":76,"column":7,"offset":2907},"indent":[]}}],"position":{"start":{"line":76,"column":1,"offset":2901},"end":{"line":76,"column":7,"offset":2907},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"undefined","position":{"start":{"line":77,"column":3,"offset":2910},"end":{"line":77,"column":12,"offset":2919},"indent":[]}}],"position":{"start":{"line":77,"column":3,"offset":2910},"end":{"line":77,"column":12,"offset":2919},"indent":[]}}],"position":{"start":{"line":77,"column":1,"offset":2908},"end":{"line":77,"column":12,"offset":2919},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"NaN","position":{"start":{"line":78,"column":3,"offset":2922},"end":{"line":78,"column":6,"offset":2925},"indent":[]}}],"position":{"start":{"line":78,"column":3,"offset":2922},"end":{"line":78,"column":6,"offset":2925},"indent":[]}}],"position":{"start":{"line":78,"column":1,"offset":2920},"end":{"line":78,"column":6,"offset":2925},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"empty string (\"\")","position":{"start":{"line":79,"column":3,"offset":2928},"end":{"line":79,"column":20,"offset":2945},"indent":[]}}],"position":{"start":{"line":79,"column":3,"offset":2928},"end":{"line":79,"column":20,"offset":2945},"indent":[]}}],"position":{"start":{"line":79,"column":1,"offset":2926},"end":{"line":79,"column":20,"offset":2945},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"0","position":{"start":{"line":80,"column":3,"offset":2948},"end":{"line":80,"column":4,"offset":2949},"indent":[]}}],"position":{"start":{"line":80,"column":3,"offset":2948},"end":{"line":80,"column":4,"offset":2949},"indent":[]}}],"position":{"start":{"line":80,"column":1,"offset":2946},"end":{"line":80,"column":4,"offset":2949},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"false","position":{"start":{"line":81,"column":3,"offset":2952},"end":{"line":81,"column":8,"offset":2957},"indent":[]}}],"position":{"start":{"line":81,"column":3,"offset":2952},"end":{"line":81,"column":8,"offset":2957},"indent":[]}}],"position":{"start":{"line":81,"column":1,"offset":2950},"end":{"line":81,"column":8,"offset":2957},"indent":[]}}],"position":{"start":{"line":76,"column":1,"offset":2901},"end":{"line":81,"column":8,"offset":2957},"indent":[1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"You may have already seen some deeper nested objects checks for example if you have a nested object like this","position":{"start":{"line":83,"column":1,"offset":2959},"end":{"line":83,"column":110,"offset":3068},"indent":[]}}],"position":{"start":{"line":83,"column":1,"offset":2959},"end":{"line":83,"column":110,"offset":3068},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"let date = {date: { year: { month: { day }}","position":{"start":{"line":85,"column":1,"offset":3070},"end":{"line":87,"column":4,"offset":3123},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"If you safely want to know whether date has a day property defined you need to do something like the code below","position":{"start":{"line":89,"column":1,"offset":3125},"end":{"line":89,"column":112,"offset":3236},"indent":[]}}],"position":{"start":{"line":89,"column":1,"offset":3125},"end":{"line":89,"column":112,"offset":3236},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"const date = date && date.year && date.year.month && date.year.month.day;","position":{"start":{"line":91,"column":1,"offset":3238},"end":{"line":93,"column":4,"offset":3321},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"If you have a deeply nested object you will end up writing a lot of the above code. There are a lot of libraries and helpers and also a huge discussion about this ","position":{"start":{"line":95,"column":1,"offset":3323},"end":{"line":95,"column":164,"offset":3486},"indent":[]}},{"type":"link","title":null,"url":"https://stackoverflow.com/questions/2631001/test-for-existence-of-nested-javascript-object-key","children":[{"type":"text","value":"topic","position":{"start":{"line":95,"column":165,"offset":3487},"end":{"line":95,"column":170,"offset":3492},"indent":[]}}],"position":{"start":{"line":95,"column":164,"offset":3486},"end":{"line":95,"column":267,"offset":3589},"indent":[]}},{"type":"text","value":" on stack overflow.","position":{"start":{"line":95,"column":267,"offset":3589},"end":{"line":95,"column":286,"offset":3608},"indent":[]}}],"position":{"start":{"line":95,"column":1,"offset":3323},"end":{"line":95,"column":286,"offset":3608},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Until recently there were only some packages out there which tried to help you with such cases but recently optional chaining has come into the JS spec.","position":{"start":{"line":97,"column":1,"offset":3610},"end":{"line":97,"column":153,"offset":3762},"indent":[]}}],"position":{"start":{"line":97,"column":1,"offset":3610},"end":{"line":97,"column":153,"offset":3762},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"ðŸ’ª Optional chaining to the rescue","position":{"start":{"line":99,"column":4,"offset":3767},"end":{"line":99,"column":38,"offset":3801},"indent":[]}}],"position":{"start":{"line":99,"column":1,"offset":3764},"end":{"line":99,"column":38,"offset":3801},"indent":[]}},{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://github.com/tc39/proposal-optional-chaining","children":[{"type":"text","value":"Optional chaining","position":{"start":{"line":101,"column":2,"offset":3804},"end":{"line":101,"column":19,"offset":3821},"indent":[]}}],"position":{"start":{"line":101,"column":1,"offset":3803},"end":{"line":101,"column":72,"offset":3874},"indent":[]}},{"type":"text","value":" has finally reached stage 4 of the TC39 process and hopefully, most browsers will support it in the near time","position":{"start":{"line":101,"column":72,"offset":3874},"end":{"line":101,"column":182,"offset":3984},"indent":[]}}],"position":{"start":{"line":101,"column":1,"offset":3803},"end":{"line":101,"column":182,"offset":3984},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"With optional, chaining you can use the ","position":{"start":{"line":103,"column":1,"offset":3986},"end":{"line":103,"column":41,"offset":4026},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"?","position":{"start":{"line":103,"column":42,"offset":4027},"end":{"line":103,"column":43,"offset":4028},"indent":[]}}],"position":{"start":{"line":103,"column":41,"offset":4026},"end":{"line":103,"column":44,"offset":4029},"indent":[]}},{"type":"text","value":" to check for existence.","position":{"start":{"line":103,"column":44,"offset":4029},"end":{"line":103,"column":68,"offset":4053},"indent":[]}}],"position":{"start":{"line":103,"column":1,"offset":3986},"end":{"line":103,"column":68,"offset":4053},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"const day = date?.year?.month?.day;","position":{"start":{"line":105,"column":1,"offset":4055},"end":{"line":107,"column":4,"offset":4100},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"But until it will officially be merged into the browsers I will end up using idx package which was created by a Facebook team. The best part about it is that it doesn't will ship extra code to your JS bundle since you can remove idx during the build with babel.","position":{"start":{"line":109,"column":1,"offset":4102},"end":{"line":109,"column":262,"offset":4363},"indent":[]}}],"position":{"start":{"line":109,"column":1,"offset":4102},"end":{"line":109,"column":262,"offset":4363},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"import idx from 'idx';\n// let date = {date: { year: { month: { day }}\n// you can access the nested day property like this\nconst day = idx(date, (_) => _.year.month.day);","position":{"start":{"line":111,"column":1,"offset":4365},"end":{"line":116,"column":4,"offset":4544},"indent":[1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Finally, a program is much more reasonable when you know the types. It is then much easier to use the appropriate built-in language tools to check for the corner cases.","position":{"start":{"line":118,"column":1,"offset":4546},"end":{"line":118,"column":169,"offset":4714},"indent":[]}}],"position":{"start":{"line":118,"column":1,"offset":4546},"end":{"line":118,"column":169,"offset":4714},"indent":[]}},{"type":"export","value":"export const _frontmatter = {\"path\":\"/pratical-type-coercion\",\"date\":\"2019-09-24T17:12:33.962Z\",\"title\":\"Practical type coercion / conversion and type checks in JavaScript\",\"featuredImage\":\"./header.jpg\",\"headerImage\":\"./header.jpg\",\"tags\":[\"coercion\",\"JS\",\"web\",\"conversion\",\"JavaScript\",\"type checks\"],\"excerpt\":\"One of the most discussed topics of JS is the types system in context with the equality operator and explicit and implicit type coercion.\"}","position":{"start":{"line":121,"column":1,"offset":4717},"end":{"line":121,"column":455,"offset":5171},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":121,"column":455,"offset":5171}}},"scopeImports":[],"scopeIdentifiers":[],"rawMDXOutput":"/* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nexport const _frontmatter = {\n  \"path\": \"/pratical-type-coercion\",\n  \"date\": \"2019-09-24T17:12:33.962Z\",\n  \"title\": \"Practical type coercion / conversion and type checks in JavaScript\",\n  \"featuredImage\": \"./header.jpg\",\n  \"headerImage\": \"./header.jpg\",\n  \"tags\": [\"coercion\", \"JS\", \"web\", \"conversion\", \"JavaScript\", \"type checks\"],\n  \"excerpt\": \"One of the most discussed topics of JS is the types system in context with the equality operator and explicit and implicit type coercion.\"\n};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <p>{`One of the most discussed topics of JS is the types system in context with the equality operator and explicit and implicit type coercion.`}</p>\n    <p>{`Soo Yes! JavaScript has a lot of weird corner cases when it comes to type equality and coercion.`}</p>\n    <p>{`Some examples`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"js\"\n    }}><pre parentName=\"div\" {...{\n        \"className\": \"language-js\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-js\"\n        }}>{`    `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`*`}</span><span parentName=\"code\" {...{\n            \"className\": \"token number\"\n          }}>{`NaN`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`===`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token number\"\n          }}>{`NaN`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`// false`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`null`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`==`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token number\"\n          }}>{`0`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`// false`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`-`}</span><span parentName=\"code\" {...{\n            \"className\": \"token number\"\n          }}>{`0`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`===`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token number\"\n          }}>{`0`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`// true`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`[`}</span>{`â€˜aâ€™`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`]`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`==`}</span>{` â€˜aâ€™ `}<span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`// true*`}</span></code></pre></div>\n    <p>{`There is a huge open source list of examples which you can find `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/denysdovhan/wtfjs\"\n      }}>{`here`}</a>{`. In reality, most programming languages have some corner cases and many of them even make sense.`}</p>\n    <p>{`What I found interesting about type coercion are not all these corner cases instead I like some practical concepts and learnings which you can take from those corner case examples and introduce the learnings into your codebase.`}</p>\n    <ul>\n      <li parentName=\"ul\">{`It is really helpful to learn how type coercion in JS works to better reason about your code`}</li>\n      <li parentName=\"ul\">{`There are some practical things you can improve in your programs if you know how coercion works`}</li>\n      <li parentName=\"ul\">{`You donâ€™t need to know all of the corner cases look up the `}<a parentName=\"li\" {...{\n          \"href\": \"https://tc39.github.io/ecma262/\"\n        }}>{`JS spec`}</a>{` if you donâ€™t understand a particular check`}</li>\n    </ul>\n    <p><strong parentName=\"p\">{`The first thing you should make sure is to lower the surface area of your functions to keep them as small as possible e.g. avoid overloading your functions.`}</strong></p>\n    <p>{`That means if it doesnâ€™t make sense to accept a string and a number as a function parameter donâ€™t try to implement both definitions instead make it visible to the reader of your code that the function only works with numbers.`}</p>\n    <p>{`Keep in mind with more information you usually end up with a better result. This is how diversity works if you have more different opinions and perspectives you create better outcomes. So the more you know about coercion the more you can clean up your code. The first example are undefined and null checks.`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"js\"\n    }}><pre parentName=\"div\" {...{\n        \"className\": \"language-js\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-js\"\n        }}><span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`// 1.`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`// You can avoid checking for undefined and null by using the == operator instead`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`// of === so here you can actually make use of the implicit equality operator conversion`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`if`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span>{`a `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`!==`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`undefined`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`&&`}</span>{` a `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`!==`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`null`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span>{`\n\n`}<span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`// checks for both undefined and null`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`if`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span>{`a `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`!=`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`null`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span>{`\n\n`}<span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`// 2. If you want to check whether an array is an array use the built in method`}</span>{`\nArray`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`isArray`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span>{`MyArray`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n\n`}<span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`// 3.`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`// Use Number.isNaN(value) to check for NaN`}</span>{`\nNumber`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`isNan`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span>{`value`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n\n`}<span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`// 4.`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`// Do not check boolean with == for boolean or when the type is unknown`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`// Use truthy correctly`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`// This is ok if you check existency not boolean`}</span>{`\n\n`}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`if`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`// run the code`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span>{`\n\n`}<span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`// bad since e.g.`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`if`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span>{`object `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`==`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token boolean\"\n          }}>{`true`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`// doesnt work`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span>{`\n\n`}<span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`// If you have initialised an empty array or an empty object and you want check for existence`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`// this will not work since == and === operator implicit coerce`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`[`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`]`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`==`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token boolean\"\n          }}>{`true`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`// false`}</span>{`\nObject `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`===`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token boolean\"\n          }}>{`true`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`// false`}</span></code></pre></div>\n    <p>{`You can just check if the `}<em parentName=\"p\">{`variable`}</em>{` has a truthy value or not. That means do this`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"js\"\n    }}><pre parentName=\"div\" {...{\n        \"className\": \"language-js\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-js\"\n        }}><span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`if`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span>{`value`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span></code></pre></div>\n    <p>{`will evaluate to true if `}<em parentName=\"p\">{`value`}</em>{` is `}<strong parentName=\"p\">{`not`}</strong>{`:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`null`}</li>\n      <li parentName=\"ul\">{`undefined`}</li>\n      <li parentName=\"ul\">{`NaN`}</li>\n      <li parentName=\"ul\">{`empty string (\"\")`}</li>\n      <li parentName=\"ul\">{`0`}</li>\n      <li parentName=\"ul\">{`false`}</li>\n    </ul>\n    <p>{`You may have already seen some deeper nested objects checks for example if you have a nested object like this`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"js\"\n    }}><pre parentName=\"div\" {...{\n        \"className\": \"language-js\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-js\"\n        }}><span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`let`}</span>{` date `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`date`}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{` year`}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{` month`}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{` day `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span></code></pre></div>\n    <p>{`If you safely want to know whether date has a day property defined you need to do something like the code below`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"js\"\n    }}><pre parentName=\"div\" {...{\n        \"className\": \"language-js\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-js\"\n        }}><span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`const`}</span>{` date `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` date `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`&&`}</span>{` date`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span>{`year `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`&&`}</span>{` date`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span>{`year`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span>{`month `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`&&`}</span>{` date`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span>{`year`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span>{`month`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span>{`day`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span></code></pre></div>\n    <p>{`If you have a deeply nested object you will end up writing a lot of the above code. There are a lot of libraries and helpers and also a huge discussion about this `}<a parentName=\"p\" {...{\n        \"href\": \"https://stackoverflow.com/questions/2631001/test-for-existence-of-nested-javascript-object-key\"\n      }}>{`topic`}</a>{` on stack overflow.`}</p>\n    <p>{`Until recently there were only some packages out there which tried to help you with such cases but recently optional chaining has come into the JS spec.`}</p>\n    <h2>{`ðŸ’ª Optional chaining to the rescue`}</h2>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"https://github.com/tc39/proposal-optional-chaining\"\n      }}>{`Optional chaining`}</a>{` has finally reached stage 4 of the TC39 process and hopefully, most browsers will support it in the near time`}</p>\n    <p>{`With optional, chaining you can use the `}<em parentName=\"p\">{`?`}</em>{` to check for existence.`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"js\"\n    }}><pre parentName=\"div\" {...{\n        \"className\": \"language-js\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-js\"\n        }}><span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`const`}</span>{` day `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` date`}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`?.`}</span>{`year`}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`?.`}</span>{`month`}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`?.`}</span>{`day`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span></code></pre></div>\n    <p>{`But until it will officially be merged into the browsers I will end up using idx package which was created by a Facebook team. The best part about it is that it doesnâ€™t will ship extra code to your JS bundle since you can remove idx during the build with babel.`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"js\"\n    }}><pre parentName=\"div\" {...{\n        \"className\": \"language-js\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-js\"\n        }}><span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`import`}</span>{` idx `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`from`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`'idx'`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`// let date = {date: { year: { month: { day }}`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`// you can access the nested day property like this`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`const`}</span>{` day `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`idx`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span>{`date`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token parameter\"\n          }}>{`_`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=>`}</span>{` _`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span>{`year`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span>{`month`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span>{`day`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span></code></pre></div>\n    <p>{`Finally, a program is much more reasonable when you know the types. It is then much easier to use the appropriate built-in language tools to check for the corner cases.`}</p>\n\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"}}